<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="viewport" content="initial-scale=1,user-scalable=no"><title>HSL ‚Äì The RGB You‚Äôve Been Waiting For</title><link href="slides.css" rel="stylesheet" type="text/css"></head><body ng-app="hsl"><deck><slide><h1 id="hsl">HSL</h1>
<h2 id="the-rgb-you-ve-been-waiting-for">The RGB You‚Äôve Been Waiting For</h2>
</slide><notes><p>This is a talk put together for the February 2016 <a href="http://peninsulajs.com/">PeninsulaJS</a>
meetup.</p>
<p>The source for these slides is available at
<a href="https://github.com/visnup/hsl">github.com/visnup/hsl</a>.</p>
</notes><slide class="xs-center"><h1 id="the-problem">The Problem</h1>
<div ng-init="lhs=RGB(&quot;ff&quot;,&quot;a5&quot;,&quot;00&quot;); rhs=RGB(&quot;33&quot;,&quot;33&quot;,&quot;33&quot;)"><span ng-style="{backgroundColor: lhs}" class="swatch"></span><input ng-model="lhs.r" placeholder="R" ng-style="{borderBottomColor: lhs.rx}" class="c"><input ng-model="lhs.g" placeholder="G" ng-style="{borderBottomColor: lhs.gx}" class="c"><input ng-model="lhs.b" placeholder="B" ng-style="{borderBottomColor: lhs.bx}" class="c"><div class="op text-muted">+</div><span ng-style="{backgroundColor: rhs}" class="swatch"></span><input ng-model="rhs.r" placeholder="R" ng-style="{borderBottomColor: rhs.rx}" class="c"><input ng-model="rhs.g" placeholder="G" ng-style="{borderBottomColor: rhs.gx}" class="c"><input ng-model="rhs.b" placeholder="B" ng-style="{borderBottomColor: rhs.bx}" class="c"><div class="op text-muted">=</div><span ng-show="false">{{sum = lhs.plus(rhs)}}</span><span ng-style="{backgroundColor: sum}" class="swatch"></span><input ng-model="sum.r" placeholder="R" ng-style="{borderBottomColor: sum.rx}" readonly class="c"><input ng-model="sum.g" placeholder="G" ng-style="{borderBottomColor: sum.gx}" readonly class="c"><input ng-model="sum.b" placeholder="B" ng-style="{borderBottomColor: sum.bx}" readonly class="c"></div></slide><notes><h2 id="rgb-rgb-">RGB + RGB = ü§î</h2>
<p><code>#ffa500</code>‚Ää‚Äì‚Ääthat‚Äôs orange. <code>#ffd833</code>‚Ää‚Äì‚Ääthat‚Äôs not a lighter orange;
it‚Äôs yellow. <em>Of course</em>, you‚Äôre thinking, <em>one does not simply add
some GB to RGB to lighten a color</em>.</p>
<p>Ok fine, then how do you lighten orange to get light orange? And wait,
hold on: why can‚Äôt I just add Rs, Gs, and Bs to lighten my colors? I
mean, my computer knows <code>1 + 1 = 2</code>; it and I can agree on that. Yet
<code>#ffa500</code> + <code>#004999</code> yields some kinda related color, but in a way
that doesn‚Äôt exactly make sense.</p>
<p>In what world is that cool? I‚Äôll tell you in what world: in an
adding-colors-of-light-together world. You know who lives in that
world?  LEDs and CRTs, that‚Äôs who. And scientists who play with lasers,
AKA crazy people.</p>
</notes><slide><h1 id="rgb-adding-lasers-together">RGB: adding lasers together</h1>
<div ng-init="rgb=RGB(&quot;ff&quot;,&quot;a5&quot;,&quot;00&quot;)"><span ng-style="{backgroundColor: rgb}" class="swatch"></span><input ng-model="rgb.r" placeholder="R" ng-style="{borderBottomColor: rgb.rx}" class="c"><input ng-model="rgb.g" placeholder="G" ng-style="{borderBottomColor: rgb.gx}" class="c"><input ng-model="rgb.b" placeholder="B" ng-style="{borderBottomColor: rgb.bx}" class="c"></div></slide><notes><ul>
<li>Demo: RGB values next to each other and the color they make (zoom
in and out)</li>
</ul>
<p>RGB is <em>not</em> like some single origin, shade-grown, 1,300 meter
elevation coffee beans you found in Alajuela, Costa Rica and roasted in
small batches to give to your friends in Oakland.</p>
<p>RGB <em>is</em> like that guy in a North Face jacket and hoodie on the 38L
Geary headed downtown, doing a line of cocaine off his iPhone. Yeah,
RGB is not a ‚Äúso-uncool-it‚Äôs-cool-again‚Äù thing.</p>
</notes><slide><div style="display: flex; text-align: center" class="cool-not-cool"><div><h3>Probably still cool</h3><blockquote class="twitter-tweet" data-lang="en"><p lang="en" dir="ltr">Three cordless screwdrivers and a microcontroller = perfect small batch coffee roasting. <a href="http://t.co/vrEWlzDP9A">http://t.co/vrEWlzDP9A</a> <a href="http://t.co/GbOVyJ1jFh">pic.twitter.com/GbOVyJ1jFh</a></p>&mdash; Make: (@make) <a href="https://twitter.com/make/status/643920371780087808">September 15, 2015</a></blockquote></div>&nbsp;<div><h3>Not cool</h3><blockquote class="twitter-tweet" data-lang="en"><p lang="en" dir="ltr">Some guy doing lines of cocaine off his iphone on muni... <a href="http://t.co/8KgMSljp">pic.twitter.com/8KgMSljp</a></p>&mdash; Nolan Evans (@nolman) <a href="https://twitter.com/nolman/status/229042680498368513">July 28, 2012</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script></div></div></slide><slide><h1 id="rgb-is-a-color-space">RGB is a color space</h1>
<p>[cool R, G, B = X, Y, Z thing]</p>
</slide><notes><p>RGB is what we call a <strong>color space</strong>, which sounds more scary than it
really is. I‚Äôd define a color space as ‚Äúa system to specify a color and
reason about sets of colors.‚Äù</p>
<p>It‚Äôs actually really similar to the <strong>Cartesian X, Y, Z</strong> system to
specify positions in‚Ä¶ <em>space</em>. So, just like I can say the corner of
the room is <code>{ 0, 0, 0 }</code> and to get to me, you go 20‚Äô along that wall
and 10‚Äô along this other wall, and then another 5‚Äô8‚Äù upwards to get to
my head, we can do the same thing with color. Instead of X, Y, and Z,
we use R, G, and B.</p>
<p>But what about the case where all I care about is answering ‚Äúhow far
away you are from me and in what direction?‚Äù If we‚Äôre constrainted to
XYZ, I have to go back to that corner and figure out your position and
then do some vector math to find the distance and angle. </p>
<p>And that‚Äôs where <strong>polar coordinates</strong> come from (if you remember that
mind-blowing 6th grade geometry class). It‚Äôs just a different way of
specifying all the same positions that you could with X,Y, and Z, but
re-frames it in a totally different system. And when we shift our
perspective that way, some operations become a <em>lot simpler</em> and <em>more
intuitive</em>.</p>
</notes><slide><h1 id="let-s-make-our-own-color-space">Let‚Äôs make our own color space</h1>
<ul>
<li>Communicate to another person what color we want</li>
<li>Perform some common tasks on those colors</li>
<li>Intuitive</li>
</ul>
</slide><notes><p>How would you describe <em>to the person next to you</em> the color of the <span
style="background: skyblue">sky</span>? How would you compare that to the
color of the <span style="background: aquamarine">ocean</span>? How would
you compare those colors to each other?</p>
<p>Let‚Äôs pretend we were tasked with representing all the colors in an
<em>intuitive</em> way. How would we start?</p>
<p>How about, let‚Äôs just take the rainbow (<strong>ROY G. BIV!</strong>) and stick it in
a kinda big array:</p>
</notes><slide><h2 id="color-swatch-hue">Color / Swatch / Hue</h2>
<div ng-init="buckets.h = 9" class="hue"><p>Let‚Äôs divide the rainbow up into <input ng-model="buckets.h" type="number" step="3" class="c"> colors:</p><div class="hues scale"><span ng-repeat="h in _.range(0, buckets.h)" ng-style="{backgroundColor: HSL(h*360/buckets.h, 100, 50)}" class="swatch"></span></div><div class="indexes scale"><span ng-repeat="c in [0, 1, 2, 3]">{{c*buckets.h/3 | number}}</span></div></div></slide><notes><p>That‚Äôs kinda intuitive-looking already. We‚Äôve got lots of the colors we
care about in an array indexed from 0 to {{buckets.h}}. So, if I want red
I just grab the color at 0 and if I want magenta, I grab the one at
{{buckets.h}}. {{buckets.h/3}}ish is green and {{buckets.h*2/3}}ish is
blue; it‚Äôs just a mapping and as we move up and down the scale we get a
predictable color from the rainbow.</p>
<p>We want to have more crayons in our box though, so increase that number
to something high, like 99. Now we‚Äôre getting a proper rainbow.</p>
</notes><slide><h2 id="brightness-colorfulness-saturation">Brightness / Colorfulness / Saturation</h2>
<div ng-init="hsl = HSL(300, 100, 50); buckets.s = 10" class="saturation"><p>Picking from our rainbow,</p><div class="hues scale"><span ng-repeat="h in _.range(0, 360)" ng-style="{backgroundColor: HSL(h, 100, 50)}" ng-mouseenter="hsl.h = h" class="swatch"></span></div><div class="indexes scale"><span ng-repeat="c in [0, 1, 2, 3]">{{c*360/3 | number}}</span></div><p>a hue of <span ng-style="{backgroundColor: HSL(hsl.h, 100, 50)}" class="swatch"></span><input ng-model="hsl.h" placeholder="H" ng-style="{borderBottomColor: HSL(hsl.h, 100, 50)}" class="c">, let‚Äôs bucket its <b>colorfulness</b> on a scale from 0 to <input ng-model="buckets.s" type="number" step="10" class="c">:</p><div class="saturations scale"><span ng-repeat="s in _.range(0, buckets.s)" ng-style="{backgroundColor: HSL(hsl.h, s*100/buckets.s, hsl.l)}" class="swatch"></span></div><div class="indexes scale"><span ng-repeat="c in [0, 1, 2]">{{c*buckets.s/2 | number}}</span></div></div></slide><slide><h2 id="lightness">Lightness</h2>
<div class="lightness"><p>Picking from our rainbow,</p><div class="hues scale"><span ng-repeat="h in _.range(0, 360)" ng-style="{backgroundColor: HSL(h, 100, 50)}" ng-mouseenter="hsl.h = h" class="swatch"></span></div><div class="indexes scale"><span ng-repeat="c in [0, 1, 2, 3]">{{c*360/3 | number}}</span></div><p>a hue of <span ng-style="{backgroundColor: HSL(hsl.h, 100, 50)}" class="swatch"></span><input ng-model="hsl.h" placeholder="H" ng-style="{borderBottomColor: HSL(hsl.h, 100, 50)}" class="c">, and from our saturation scale,</p><div class="saturations scale"><span ng-repeat="s in _.range(0, 100)" ng-style="{backgroundColor: HSL(hsl.h, s, hsl.l)}" ng-mouseenter="hsl.s = s" class="swatch"></span></div><div class="indexes scale"><span ng-repeat="c in [0, 1, 2]">{{c*100/2 | number}}</span></div><p>a saturation of <span ng-style="{backgroundColor: HSL(hsl.h, hsl.s, 50)}" class="swatch"></span><input ng-model="hsl.s" placeholder="S" ng-style="{borderBottomColor: HSL(hsl.h, hsl.s, 50)}" class="c"></p><div class="lightness scale"><span ng-repeat="l in _.range(0, 100)" ng-style="{backgroundColor: HSL(hsl.h, hsl.s, l)}" class="swatch"></span></div><div class="indexes scale"><span ng-repeat="c in [0, 1, 2]">{{c*100/2 | number}}</span></div></div></slide><slide><h1 id="putting-it-all-together">Putting it all together</h1>
</slide><notes><ul>
<li>Gamut</li>
<li>Transform from RGB</li>
</ul>
</notes><slide><h1 id="let-s-do-some-stuff-with-hsl">Let‚Äôs do some stuff with HSL</h1>
</slide><slide><h2 id="lighten-a-color">Lighten a color</h2>
</slide><notes><ul>
<li>This is the original problem at the beginning</li>
</ul>
</notes><slide><h2 id="grayscale-a-photo">Grayscale a photo</h2>
</slide><slide><h2 id="make-a-color-palette">Make a color palette</h2>
</slide><slide><h1 id="hsl-is-everywhere-already">HSL is everywhere already</h1>
</slide><notes><ul>
<li>Chrome dev tools</li>
<li>Color pickers<ul>
<li>OS X</li>
<li>Sketch</li>
<li>Google slides</li>
</ul>
</li>
<li>colorhexa.com</li>
</ul>
</notes><slide><h1 id="lab">LAB</h1>
<h2 id="the-hsl-you-ve-been-waiting-for">The HSL You‚Äôve Been Waiting For</h2>
</slide><notes><p>So, I know I just told you HSL was like the new Kanye album, but there
are some problems with HSL.</p>
<p>Luckily, there are some people who <em>really care</em> about this type of
stuff. They call themselves the <strong>International Commission on
Illumination</strong> or if you like French, <strong>Commission internationale de
l‚Äô√©clairage</strong>, or if you think that‚Äôs a mouthful, <strong>CIE</strong> for short.</p>
<p>They‚Äôve published an <em>even better</em> colour space definition that takes
into account how the human eye perceives colour along with what
lighting conditions you‚Äôre in and how long you‚Äôve been fermenting that
kombucha you‚Äôre drinking. It‚Äôs called <a href="https://en.wikipedia.org/wiki/Lab_color_space">CIELAB</a> and it‚Äôs <em>crazy</em>.</p>
<ul>
<li>Lightness</li>
<li>Perceptual uniformity</li>
</ul>
</notes><script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.5.0/angular.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.5.0/lodash.min.js"></script><script>'use strict'

class RGB {
  constructor(r, g, b) {
    this.r = r
    this.g = g
    this.b = b
  }

  set r(r) { this._r = parseInt(r || 0, 16) }
  set g(g) { this._g = parseInt(g || 0, 16) }
  set b(b) { this._b = parseInt(b || 0, 16) }

  get r()  { return this._r.toString(16) }
  get g()  { return this._g.toString(16) }
  get b()  { return this._b.toString(16) }

  get rx() { return new RGB(this._r, 0, 0) }
  get gx() { return new RGB(0, this._g, 0) }
  get bx() { return new RGB(0, 0, this._b) }

  plus(other) {
    var r = _.clamp(this._r + other._r, 0, 255),
        g = _.clamp(this._g + other._g, 0, 255),
        b = _.clamp(this._b + other._b, 0, 255)
    return new RGB(r.toString(16), g.toString(16), b.toString(16))
  }

  toString() {
    return `rgb(${this._r},${this._g},${this._b})`
  }
}

class HSL {
  constructor(h, s, l) {
    this.h = h
    this.s = s
    this.l = l
  }

  toString() {
    return `hsl(${this.h},${this.s}%,${this.l}%)`
  }
}

angular
  .module('hsl', [])
  .component('deck', {
    controller($document) {
      this.slides = []
      
      this.add = function(slide) {
        this.slides.push(slide)
        return this.slides.length - 1
      }

      $document.on('keydown', function(e) {
        if (e.target.nodeName !== 'BODY') return
        var index = +location.hash.slice(1) || 0
        switch (e.keyIdentifier) {
          case 'Right':
            index++
            break
          case 'Left':
            index--
            break
        }
        location.hash = _.clamp(index, 0, this.slides.length)
      }.bind(this))
    }
  })
  .component('slide', {
    require: { deck: '^deck' },
    controller($element) {
      this.$onInit = function() {
        $element.attr('id', this.deck.add(this))
      }
    }
  })
  .run(function($rootScope) {
    $rootScope._ = _
    $rootScope.RGB = function(r, g, b) { return new RGB(r, g, b) }
    $rootScope.HSL = function(h, s, l) { return new HSL(h, s, l) }
  })</script></deck></body></html>